<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/1013d8b8e8.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/home.css">
    <title><%= title %></title>
</head>
<body>
    <h1>Todo-List</h1>
    <div class="container">
        <form action="/create_task" method="post">
            <div class="input-field">
                <input type="text" name="task" placeholder="Enter your task here" required>
            </div>
            <div class="date-category-container">
                <div class="category-field">
                    <label for="category">Category</label>
                    <select name="category" id="category">
                        <option value="Work">Work</option>
                        <option value="Personal">Personal</option>
                        <option value="Shopping">Shopping</option>
                    </select>
                </div>
                <div class="date-container">
                    <label for="dueDate">Due-Date</label>
                    <input type="date" name="dueDate" id="dueDate" required>
                </div>
            </div>
            <button class="btn">Add Task</button>   
        </form>
    </div>
    <div class="task-field">
        <ul>
            <% for (let i of task_container) { %>
              <% if (i) { %>
                <li>
                  <div class="task">
                    <p>
                      <%= i.task %><span><%= i.category %></span>
                    </p>
                    <p class="date"><span>Due-Date</span><span><%= i.dueDate %></span></p>
                  </div>
                  <div class="delete-button">
                    <a href="/delete_task/?id=<%= i._id %>">
                      <i class="fa-solid fa-trash"></i>
                    </a>
                  </div>
                </li>
              <% } %>
            <% } %>
          </ul>          
    </div>
</body>
</html>